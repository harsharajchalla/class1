# Read the data from the context
data <- read.table(text=
                     "date ,Nitric_Oxide ,Nitrogen_Dioxide ,Oxides_of_Nitrogen ,Ozone ,PM10_Particulate ,PM2.5_Particulate ,Sulphur_Dioxide ,Number_of_death_by_respiratory_disease,number_of_deaths_by_asthama
2010-01-01,72.9,58.8,131.8,15.7,27.6,23.2,4.5,984,18
2010-02-01,54,55.8,109.9,26.8,22.3,17.1,3.9,799,13
2010-03-01,47.7,50.3,92.2,34.5,22.5,15,3.1,829,18
2010-04-01,42.4,51,93.4,43.7,27,17.5,4.4,650,13
2010-05-01,39.1,43.2,82.3,41.2,22.2,14.7,3.5,683,13
2010-06-01,34.3,43.8,78.1,42.1,24.2,16.3,3.8,592,10
2010-07-01,35.1,35.8,70.9,35.7,18.7,10.7,2.9,579,11
2010-08-01,36.8,36.4,73.2,30.1,16.8,10,2.6,553,10
2010-09-01,51,46.3,97.4,26.1,19.2,12.9,3.1,545,6
2010-10-01,56.4,49,105.4,23.5,22.6,14.4,3.1,609,13
2010-11-01,88.6,56.3,144.8,17.9,25.4,20,3.9,654,20
2010-12-01,83,62.6,145.6,12.3,24.4,20.9,3.8,828,12
2011-01-01,55,53.1,108.2,24,21.9,15.8,3.4,1055,18
2011-02-01,53.4,50.8,104,27.4,29.5,22.1,2.6,724,8
2011-03-01,65.6,59.3,124.9,27.8,40.1,31.2,4,801,21
2011-04-01,40.9,51.9,92.7,45.8,36.7,26.9,3.8,656,16
2011-05-01,29.9,37.8,67.7,49.9,21.4,12.2,2.8,593,16
2011-06-01,29.3,37.8,74.4,48.8,22.8,13.8,2.8,582,12
2011-07-01,28.2,31.1,68.2,48.8,18.2,10.2,2.5,571,11
2011-08-01,28.8,31.1,68.8,44.1,17.2,9.5,2.5,555,10
2011-09-01,35.5,35.5,75.5,30.1,18.8,11.2,2.5,544,7
2011-10-01,40.5,38.8,85.5,26.1,22.8,14.6,2.5,598,11
2011-11-01,68.5,48.8,128.5,18.5,24.5,18.5,3.5,638,15
2011-12-01,70.5,52.5,135.5,13.5,24.5,19.5,3.5,788,13
2012-01-01,58.5,51.5,115.5,22.5,22.5,15.5,3.5,1010,15
2012-02-01,55.5,51.5,111.5,25.5,22.5,15.5,3.5,755,11
2012-03-01,66.5,58.5,125.5,26.5,39.5,29.5,3.5,798,19
2012-04-01,41.5,52.5,93.5,45.5,36.5,26.5,3.5,657,15
2012-05-01,30.5,38.5,70.5,49.5,21.5,12.5,2.5,594,15
2012-06-01,29.5,38.5,75.5,48.5,22.5,13.5,2.5,583,11
2012-07-01,28.5,31.5,68.5,48.5,18.5,10.5,2.5,572,10
2012-08-01,29.5,31.5,69.5,44.5,17.5,9.5,2.5,556,9
2012-09-01,36.5,36.5,76.5,30.5,19.5,11.5,2.5,545,7
2012-10-01,41.5,39.5,86.5,26.5,23.5,15.5,2.5,600,11
2012-11-01,69.5,49.5,129.5,18.5,24.5,18.5,3.5,640,14
2012-12-01,71.5,53.5,137.5,13.5,24.5,19.5,3.5,791,12
2013-01-01,59.5,52.5,116.5,22.5,22.5,15.5,3.5,1022,14
2013-02-01,56.5,52.5,112.5,25.5,22.5,15.5,3.5,767,10
2013-03-01,67.5,59.5,126.5,26.5,40.5,30.5,3.5,809,20
2013-04-01,42.5,53.5,94.5,45.5,37.5,27.5,3.5,667,16
2013-05-01,31.5,39.5,71.5,49.5,22.5,12.5,2.5,595,15
2013-06-01,30.5,39.5,76.5,48.5,23.5,13.5,2.5,584,11
2013-07-01,29.5,32.5,69.5,48.5,19.5,10.5,2.5,573,10
2013-08-01,30.5,32.5,70.5,44.5,18.5,9.5,2.5,557,9
2013-09-01,37.5,37.5,77.5,31.5,20.5,12.5,2.5,546,7
2013-10-01,42.5,40.5,87.5,27.5,24.5,16.5,2.5,602,12
2013-11-01,70.5,50.5,138.5,19.5,25.5,19.5,3.5,642,15
2013-12-01,72.5,54.5,140.5,14.5,25.5,20.5,3.5,793,13
2014-01-01,60.5,53.5,118.5,23.5,23.5,16.5,3.5,1034,15
2014-02-01,57.5,53.5,114.5,26.5,23.5,16.5,3.5,779,11
2014-03-01,68.5,60.5,128.5,27.5,41.5,31.5,3.5,819,21
2014-04-01,43.5,54.5,95.5,46.5,38.5,28.5,3.5,677,16
2014-05-01,32.5,40.5,72.5,50.5,23.5,13.5,2.5,596,15
2014-06-01,31.5,40.5,77.5,49.5,24.5,14.5,2.5,585,12
2014-07-01,30.5,33.5,70.5,49.5,20.5,11.5,2.5,574,11
2014-08-01,31.5,33.5,71.5,45.5,19.5,10.5,2.5,558,10
2014-09-01,38.5,38.5,78.5,31.5,21.5,12.5,2.5,547,7
2014-10-01,43.5,41.5,88.5,28.5,25.5,17.5,2.5,603,12
2014-11-01,71.5,51.5,140.5,19.5,26.5,20.5,3.5,643,15
2014-12-01,73.5,55.5,142.5,14.5,26.5,21.5,3.5,794,13
2015-01-01,61.5,54.5,120.5,24.5,24.5,17.5,3.5,1045,15
2015-02-01,58.5,54.5,116.5,27.5,24.5,17.5,3.5,780,11
2015-03-01,69.5,61.5,130.5,28.5,42.5,32.5,3.5,829,22
2015-04-01,44.5,55.5,96.5,47.5,39.5,29.5,3.5,687,17
2015-05-01,33.5,41.5,73.5,51.5,24.5,14.5,2.5,597,16
2015-06-01,32.5,41.5,78.5,50.5,25.5,15.5,2.5,586,12
2015-07-01,31.5,34.5,71.5,50.5,21.5,12.5,2.5,575,11
2015-08-01,32.5,34.5,72.5,46.5,20.5,11.5,2.5,559,10
2015-09-01,39.5,39.5,79.5,32.5,22.5,13.5,2.5,548,7
2015-10-01,44.5,42.5,89.5,29.5,26.5,18.5,2.5,604,13
2015-11-01,72.5,52.5,141.5,20.5,27.5,21.5,3.5,644,15
2015-12-01,74.5,56.5,143.5,15.5,27.5,22.5,3.5,795,14
2016-01-01,62.5,55.5,121.5,25.5,25.5,18.5,3.5,1056,16
2016-02-01,59.5,55.5,117.5,28.5,25.5,18.5,3.5,781,12
2016-03-01,70.5,62.5,131.5,29.5,43.5,33.5,3.5,839,23
2016-04-01,45.5,56.5,97.5,48.5,40.5,30.5,3.5,697,18
2016-05-01,34.5,42.5,74.5,52.5,25.5,15.5,2.5,598,16
2016-06-01,33.5,42.5,79.5,51.5,26.5,16.5,2.5,587,13
2016-07-01,32.5,35.5,72.5,51.5,22.5,13.5,2.5,576,12
2016-08-01,33.5,35.5,73.5,47.5,21.5,12.5,2.5,560,11
2016-09-01,40.5,40.5,80.5,33.5,23.5,14.5,2.5,549,8
2016-10-01,45.5,43.5,90.5,30.5,27.5,19.5,2.5,605,13
2016-11-01,73.5,53.5,142.5,21.5,28.5,22.5,3.5,645,15
2016-12-01,75.5,57.5,144.5,16.5,28.5,23.5,3.5,796,14
2017-01-01,63.5,56.5,122.5,26.5,26.5,19.5,3.5,1067,17
2017-02-01,60.5,56.5,118.5,29.5,26.5,19.5,3.5,782,13
2017-03-01,71.5,63.5,132.5,30.5,44.5,34.5,3.5,849,24
2017-04-01,46.5,57.5,98.5,49.5,41.5,31.5,3.5,707,19
2017-05-01,35.5,43.5,75.5,53.5,26.5,16.5,2.5,599,17
2017-06-01,34.5,43.5,80.5,52.5,27.5,17.5,2.5,588,14
2017-07-01,33.5,36.5,73.5,52.5,23.5,14.5,2.5,577,13
2017-08-01,34.5,36.5,74.5,48.5,22.5,13.5,2.5,561,12
2017-09-01,41.5,41.5,81.5,34.5,24.5,15.5,2.5,550,9
2017-10-01,46.5,44.5,91.5,31.5,28.5,20.5,2.5,606,14
2017-11-01,74.5,54.5,143.5,22.5,29.5,23.5,3.5,646,16
2017-12-01,76.5,58.5,145.5,17.5,29.5,24.5,3.5,798,16
2018-01-01,64.5,58.5,124.5,28.5,27.5,20.5,3.5,1068,17
2018-02-01,61.5,58.5,119.5,30.5,27.5,20.5,3.5,783,14
2018-03-01,72.5,64.5,134.5,31.5,46.5,36.5,3.5,850,24
2018-04-01,47.5,57.5,99.5,49.5,42.5,32.5,3.5,709,19
2018-05-01,36.5,44.5,76.5,55.5,28.5,17.5,2.5,601,18
2018-06-01,35.5,45.5,81.5,53.5,29.5,18.5,2.5,589,15
2018-07-01,36.5,46.5,76.5,55.5,24.5,16.5,2.5,579,14
2018-08-01,37.5,46.5,77.5,50.5,25.5,15.5,2.5,563,13
2018-09-01,42.5,44.5,83.5,36.5,25.5,16.5,2.5,551,10
2018-10-01,48.5,47.5,92.5,32.5,28.5,21.5,2.5,608,15
2018-11-01,75.5,58.5,146.5,24.5,30.5,25.5,3.5,648,17
2018-12-01,77.5,60.5,148.5,18.5,30.5,26.5,3.5,801,17
2019-01-01,66.5,61.5,126.5,29.5,27.5,22.5,3.5,1069,17
2019-02-01,62.5,61.5,121.5,32.5,28.5,22.5,3.5,785,16
2019-03-01,74.5,66.5,137.5,33.5,47.5,37.5,3.5,853,24
2019-04-01,49.5,58.5,101.5,49.5,44.5,34.5,3.5,711,20
2019-05-01,38.5,46.5,78.5,57.5,30.5,19.5,2.5,602,19
2019-06-01,37.5,48.5,83.5,54.5,32.5,20.5,2.5,592,16
2019-07-01,38.5,49.5,78.5,56.5,25.5,18.5,2.5,582,15
2019-08-01,39.5,49.5,79.5,51.5,26.5,17.5,2.5,565,14
2019-09-01,44.5,46.5,85.5,38.5,26.5,17.5,2.5,552,12
2019-10-01,50.5,49.5,94.5,34.5,29.5,22.5,2.5,609,16
2019-11-01,76.5,60.5,147.5,26.5,31.5,26.5,3.5,649,18
2019-12-01,78.5,62.5,149.5,20.5,31.5,27.5,3.5,802,18
", header=TRUE, sep=",")

# Convert the date variable to a date format
data$date <- as.Date(data$date, format="%Y-%m-%d")


# Load necessary libraries
library(ggplot2)
library(forecast)

# Assuming your data frame is named 'data' and contains a 'date' column and a 'Number_of_death_by_respiratory_disease' column

# Convert date variable to proper date format if needed
data$date <- as.Date(data$date)

# Time series plotting
ggplot(data, aes(x = date, y = Number_of_death_by_respiratory_disease)) +
  geom_line() +
  labs(x = "Date", y = "Number of Deaths by Respiratory Disease", title = "Time Series Plot of Respiratory Deaths") +
  theme_minimal()

# Time series decomposition
decomp <- decompose(ts(data$Number_of_death_by_respiratory_disease, frequency = 12)) # Assuming monthly data
plot(decomp)

# Forecasting with ARIMA
model <- auto.arima(ts(data$Number_of_death_by_respiratory_disease, frequency = 12))
forecast <- forecast(model, h = 12) # Forecasting for the next 12 time points
plot(forecast)





# Load necessary libraries
library(rpart)

# Convert date variable to proper date format if needed
data$date <- as.Date(data$date)

# Build a decision tree
tree_model <- rpart(Number_of_death_by_respiratory_disease ~ ., data = data)

# Plot the decision tree
plot(tree_model)
text(tree_model)

# Make predictions using the decision tree
predictions <- predict(tree_model, newdata = data)

# Print the predictions
print(predictions)
